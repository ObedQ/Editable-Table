<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</head>
    <style>
        #myTable td {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
    
        #myTable th {
            white-space: nowrap;
            background-color: white;
            position: sticky;
            top: 0;
            z-index: 100;
        }
    
        #myTable input {
            width: 140px;
            min-width: 140px;
            max-width: 100%;
            box-sizing: border-box;
        }
    
        .table-responsive {
            overflow-x: auto;
            overflow-y: auto;
            max-height: 430px;
        }
    
        .body {
            height: 100vh;
        }
    
        .table {
            border: 1px solid rgba(226, 226, 226, 1);
        }
    </style>
<body>
  
    
    <div class="page-content">
        <div class="row d-flex justify-content-between gap-5">
            <div class="col-4 col-sm-12 col-lg-6 col-xl-4">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th class="text-center fs-4">Detailed Budget</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th class="fs-5" scope="row">Project Name:</th>
                        </tr>
                        <tr>
                            <th class="fs-5" scope="row">Partner:</th>
                        </tr>
                        <tr>
                            <th class="fs-5" scope="row">Project Duration:</th>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-4 col-sm-12 col-lg-6 col-xl-4 mb-4">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th class="text-center fs-4">Source of exchange rate and date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th class="fs-5" scope="row">Exchange Rate: AUD to XXX</th>
                        </tr>
                        <tr>
                            <th class="fs-5" scope="row">Annual budget amount (AUD)</th>
                        </tr>
                        <tr>
                            <th class="fs-5" scope="row">Project Duration:</th>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="d-flex flex-row gap-2 justify-content-between mb-1">
            <h4>Detailed 1st year Budget</h4>
            <div class="d-flex gap-3">
                <button class="btn btn-outline-success" id="addSection">
                    Add Section
                </button>
            </div>
        </div>
        <div class="table-responsive">
            <table class="table table-hover table-bordered" id="myTable">
                <thead class="table">
                    <tr>
                        <th>Action</th>
                        <th>Activity No.</th>
                        <th>Activity Description</th>
                        <th>Unit Description</th>
                        <th>Unit Cost</th>
                        <th>Quantity</th>
                        <th>July</th>
                        <th>August</th>
                        <th>September</th>
                        <th>October</th>
                        <th>November</th>
                        <th>December</th>
                        <th>January</th>
                        <th>February</th>
                        <th>March</th>
                        <th>April</th>
                        <th>May</th>
                        <th>June</th>
                        <th>Total Budget (local currency)</th>
                        <th>Total Budget (A$)</th>
                        <th>Comments</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="section fw-bold" colspan="21" style="background-color: #9b9b9b">
                            Direct Project Activity Cost
                        </td>
                    </tr>
                    <tr class="output">
                        <td></td>
                        <td class="fw-semibold" style="background-color: #cfcfcf">
                            Outcome-1
                        </td>
                        <td colspan="19" style="background-color: #cfcfcf">
                            Improved health seeking and health promotion behaviours.
                        </td>
                    </tr>
                    <tr class="output">
                        <td></td>
                        <td class="fw-bolder">Output-1.1</td>
                        <td colspan="19" class="fw-bold">
                            Increased awareness amongst women and men, including traditional leaders regarding maternal and child health issues and good health practice.
                        </td>
                    </tr>
                    <tr>
                        <td></td>
                        <td class="fw-light">Activity 1.1.1</td>
                        <td>Conduct monthly Ama suraksha classes in 16 communities</td>
                        <td>monthly suraksha class</td>
                        <td>6038 per community</td>
                        <td>Monthly</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>Lorem ipsum dolor sit amet consectetur adipisicing elit. Recusandae nisi maxime ad aliquam corrupti libero suscipit,?</td>
                    </tr>
                    <tr>
                        <td></td>
                        <td class="fw-light">Activity 1.1.2</td>
                        <td>Conduct monthly Ama suraksha classes in 16 communities</td>
                        <td>monthly suraksha class</td>
                        <td>6038 per community</td>
                        <td>Monthly</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>Lorem ipsum dolor sit amet consectetur adipisicing elit. Recusandae nisi maxime ad aliquam corrupti libero suscipit,?</td>
                    </tr>
                    <tr class="subtotal">
                        <td></td>
                        <td class="fw-bold">Sub-Total: Outcome 1</td>
                        <td>monthly suraksha class</td>
                        <td>6038 per community</td>
                        <td>Monthly</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                    </tr>
                    <tr class="total">
                        <td></td>
                        <td colspan="3" class="fw-semibold">
                            TOTAL DIRECT PROJECT ACTIVITY COSTS
                        </td>
                        <td>6038 per community</td>
                        <td>Monthly</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                        <td>96618</td>
                    </tr>
                </tbody>
                <tr class="grand-total">
                    <td colspan="3" class="fw-bolder" style="background-color: rgb(116, 197, 148)">
                        TOTAL PROJECT COST
                    </td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </table>
        </div>
    
        <div class="d-flex mt-2">
            <button class="btn btn-outline-info">Save</button>
        </div>
        <script>
            // Get the table and its tbody
            var table = document.getElementById("myTable");
            var tableBody = table.getElementsByTagName("tbody")[0];
    
            // "Add Section" button
            document.getElementById("addSection").addEventListener("click", addSection);
    
            function addSection() {
                // Create a unique identifier for the section
                var sectionId = 'section-' + new Date().getTime();
    
                // Create a new row for the section
                var sectionRow = tableBody.insertRow();
                sectionRow.classList.add(sectionId);
    
                var sectionCell = sectionRow.insertCell();
                sectionCell.colSpan = 21;
    
                // Add the section title input and "Add Row" button
                sectionCell.innerHTML = `
                                                            <p class="addRowButton" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Add Row" style="display: inline-block; margin-right:10px; margin-top: 5px;">
                                                                <i class="bi bi-plus-circle-fill fs-5 "></i>
                                                            </p>
                                                            <p class="removeSectionButton" style="display: inline-block;">
                                                                <i class="bi bi-x-circle-fill fs-5 text-danger" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Delete Section"></i>
                                                            </p>
                                                            <input type="text" class="form-control colspan-input fw-bold" placeholder="Section Title" style="width: 20%; display: inline-block; background-color: #9b9b9b; border: none;">
                                                        `;
    
                sectionCell.style.backgroundColor = "#9b9b9b";
    
                // Add a click event listener to the "Add Row" button
                var addRowButton = sectionCell.querySelector(".addRowButton");
                addRowButton.addEventListener("click", () => addRow(sectionId));
    
                // Add a click event listener to the "Remove Section" button
                var removeSectionButton = sectionCell.querySelector(".removeSectionButton");
                removeSectionButton.addEventListener("click", () => removeSection(sectionId));
            }
    
            function addRow(sectionId) {
                // Find the section row
                var sectionRow = document.querySelector('.' + sectionId);
    
                // Find the index of the section row
                var sectionIndex = Array.from(tableBody.rows).indexOf(sectionRow);
    
                // Find the index of the next section or the end of the table
                let nextSectionIndex = tableBody.rows.length;
                for (let i = sectionIndex + 1; i < tableBody.rows.length; i++) {
                    if (tableBody.rows[i].cells[0].colSpan === 21) {
                        nextSectionIndex = i;
                        break;
                    }
                }
    
                // Insert a new row under the current section
                var newRow = tableBody.insertRow(nextSectionIndex);
                newRow.classList.add(sectionId);
    
                // Add the remove icon cell
                var removeCell = newRow.insertCell();
                removeCell.innerHTML = `<i class="bi bi-x-circle-fill fs-5 mt-2 text-danger removeRowButton d-flex align-items-center justify-content-center" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Delete Row"></i>`;
                removeCell.style.width = "50px";
                removeCell.addEventListener("click", () => removeRow(newRow));
    
                // Add cells with input fields to the new row
                for (let i = 0; i < 20; i++) {
                    var newCell = newRow.insertCell();
                    newCell.innerHTML = `<input type="text" class="form-control" placeholder="" style="width: 100%;">`;
                }
            }
    
            function removeSection(sectionId) {
                // Find all rows with the sectionId class
                var sectionRows = document.querySelectorAll('.' + sectionId);
    
                // Remove each row
                sectionRows.forEach(row => row.remove());
            }
    
            function removeRow(row) {
                var rowIndex = Array.from(tableBody.rows).indexOf(row);
                tableBody.deleteRow(rowIndex);
            }
    
            // Add event listeners to the existing removeRowButtons
            document.querySelectorAll(".removeRowButton").forEach(button => {
                button.addEventListener("click", () => {
                    var row = button.closest("tr");
                    removeRow(row);
                });
            });
        </script>
    </div>
     
</body>
</html>